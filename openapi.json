{"openapi":"3.1.0","info":{"title":"Chatbot API Server","description":"Z.ai GLM Chatbot API with Knowledge Management","version":"1.0.0"},"paths":{"/api/v1/agents/test":{"get":{"tags":["agents"],"summary":"Test Agents Endpoint","operationId":"test_agents_endpoint_api_v1_agents_test_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/agents/":{"post":{"tags":["agents"],"summary":"Create Agent Endpoint","operationId":"create_agent_endpoint_api_v1_agents__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Agent"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["agents"],"summary":"Read Agents","operationId":"read_agents_api_v1_agents__get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Agent"},"title":"Response Read Agents Api V1 Agents  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agents/{agent_id}":{"get":{"tags":["agents"],"summary":"Read Agent","operationId":"read_agent_api_v1_agents__agent_id__get","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"integer","title":"Agent Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Agent"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["agents"],"summary":"Update Agent Endpoint","operationId":"update_agent_endpoint_api_v1_agents__agent_id__put","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"integer","title":"Agent Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Agent"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["agents"],"summary":"Delete Agent Endpoint","operationId":"delete_agent_endpoint_api_v1_agents__agent_id__delete","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"integer","title":"Agent Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agents/{agent_id}/files":{"get":{"tags":["agents"],"summary":"Get Agent Files","operationId":"get_agent_files_api_v1_agents__agent_id__files_get","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"integer","title":"Agent Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AgentKnowledgeFileResponse"},"title":"Response Get Agent Files Api V1 Agents  Agent Id  Files Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agents/{agent_id}/upload":{"post":{"tags":["agents"],"summary":"Upload Agent File","description":"Upload a knowledge file to an agent","operationId":"upload_agent_file_api_v1_agents__agent_id__upload_post","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"integer","title":"Agent Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_agent_file_api_v1_agents__agent_id__upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agents/{agent_id}/with-files":{"get":{"tags":["agents"],"summary":"Get Agent With Files Endpoint","description":"Get agent details including all associated files","operationId":"get_agent_with_files_endpoint_api_v1_agents__agent_id__with_files_get","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"integer","title":"Agent Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentWithFiles"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agents/{agent_id}/files/{file_id}":{"delete":{"tags":["agents"],"summary":"Delete Agent File Endpoint","description":"Delete an agent's knowledge file","operationId":"delete_agent_file_endpoint_api_v1_agents__agent_id__files__file_id__delete","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"integer","title":"Agent Id"}},{"name":"file_id","in":"path","required":true,"schema":{"type":"integer","title":"File Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/":{"post":{"tags":["sessions"],"summary":"Create Session Endpoint","operationId":"create_session_endpoint_api_v1_sessions__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSession"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["sessions"],"summary":"Read Sessions","operationId":"read_sessions_api_v1_sessions__get","parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"agent_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Agent Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatSession"},"title":"Response Read Sessions Api V1 Sessions  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/search":{"get":{"tags":["sessions"],"summary":"Search Sessions","description":"Search sessions with advanced filters","operationId":"search_sessions_api_v1_sessions_search_get","parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string","description":"Search query","title":"Q"},"description":"Search query"},{"name":"agent_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Agent Id"}},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date From"}},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date To"}},{"name":"min_messages","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Min Messages"}},{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatSession"},"title":"Response Search Sessions Api V1 Sessions Search Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/analytics/summary":{"get":{"tags":["sessions"],"summary":"Get Sessions Analytics","description":"Get analytics summary for all sessions","operationId":"get_sessions_analytics_api_v1_sessions_analytics_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionAnalyticsResponse"}}}}}}},"/api/v1/sessions/activity/timeline":{"get":{"tags":["sessions"],"summary":"Get Activity Timeline","description":"Get activity timeline showing session creation over time","operationId":"get_activity_timeline_api_v1_sessions_activity_timeline_get","parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","description":"Number of days to look back","default":30,"title":"Days"},"description":"Number of days to look back"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ActivityTimelineItem"},"title":"Response Get Activity Timeline Api V1 Sessions Activity Timeline Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/{session_id}":{"get":{"tags":["sessions"],"summary":"Read Session","operationId":"read_session_api_v1_sessions__session_id__get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSession"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["sessions"],"summary":"Delete Session Endpoint","operationId":"delete_session_endpoint_api_v1_sessions__session_id__delete","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/{session_id}/history":{"get":{"tags":["sessions"],"summary":"Get Session History","operationId":"get_session_history_api_v1_sessions__session_id__history_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatMessage"},"title":"Response Get Session History Api V1 Sessions  Session Id  History Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/{session_id}/knowledge":{"get":{"tags":["sessions"],"summary":"Get Session Knowledge Endpoint","operationId":"get_session_knowledge_endpoint_api_v1_sessions__session_id__knowledge_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SessionKnowledge"},"title":"Response Get Session Knowledge Endpoint Api V1 Sessions  Session Id  Knowledge Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/bulk-delete":{"post":{"tags":["sessions"],"summary":"Bulk Delete Sessions","description":"Delete multiple sessions at once","operationId":"bulk_delete_sessions_api_v1_sessions_bulk_delete_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkDeleteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkDeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/{session_id}/archive":{"post":{"tags":["sessions"],"summary":"Archive Session Endpoint","description":"Archive a session (soft delete)","operationId":"archive_session_endpoint_api_v1_sessions__session_id__archive_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sessions/{session_id}/analytics":{"get":{"tags":["sessions"],"summary":"Get Session Analytics Endpoint","description":"Get detailed analytics for a specific session","operationId":"get_session_analytics_endpoint_api_v1_sessions__session_id__analytics_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/{session_id}/messages":{"post":{"tags":["chat"],"summary":"Send Message","operationId":"send_message_api_v1_chat__session_id__messages_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatMessage"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/{session_id}/upload":{"post":{"tags":["chat"],"summary":"Upload Knowledge File","operationId":"upload_knowledge_file_api_v1_chat__session_id__upload_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"integer","title":"Session Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_knowledge_file_api_v1_chat__session_id__upload_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/chat":{"post":{"tags":["chat"],"summary":"Chat With Agent","operationId":"chat_with_agent_api_v1_chat_chat_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/ui/health":{"get":{"tags":["ui"],"summary":"Health Check","description":"Health check endpoint for Railway monitoring with PostgreSQL status","operationId":"health_check_api_v1_ui_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/system/diagnose":{"get":{"tags":["system"],"summary":"System Diagnostic","description":"Perform a self-check of the system:\n1. Check Database Connection\n2. Check API Key configuration\n3. Check Temporary File Write permissions\n4. Check External API connectivity (basic)","operationId":"system_diagnostic_api_v1_system_diagnose_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/system/test-mcp-compatibility":{"post":{"tags":["system"],"summary":"Test Mcp Compatibility","description":"Test MCP compatibility with Z.ai API","operationId":"test_mcp_compatibility_api_v1_system_test_mcp_compatibility_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/system/database/mcp-status":{"get":{"tags":["system"],"summary":"Check Mcp Database Status","description":"Comprehensive MCP database status check","operationId":"check_mcp_database_status_api_v1_system_database_mcp_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/{full_path}":{"get":{"summary":"Catch All","operationId":"catch_all__full_path__get","parameters":[{"name":"full_path","in":"path","required":true,"schema":{"type":"string","title":"Full Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api-status":{"get":{"summary":"Status Check","operationId":"status_check_api_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ActivityTimelineItem":{"properties":{"date":{"type":"string","title":"Date"},"sessions_created":{"type":"integer","title":"Sessions Created"},"messages_sent":{"type":"integer","title":"Messages Sent"}},"type":"object","required":["date","sessions_created","messages_sent"],"title":"ActivityTimelineItem"},"Agent":{"properties":{"name":{"type":"string","maxLength":100,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"system_prompt":{"type":"string","title":"System Prompt"},"model":{"type":"string","title":"Model","default":"glm-4.5"},"temperature":{"type":"number","maximum":2.0,"minimum":0.0,"title":"Temperature","default":0.7},"id":{"type":"integer","title":"Id"},"is_active":{"type":"boolean","title":"Is Active","default":true},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["name","system_prompt","id","created_at","updated_at"],"title":"Agent"},"AgentCreate":{"properties":{"name":{"type":"string","maxLength":100,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"system_prompt":{"type":"string","title":"System Prompt"},"model":{"type":"string","title":"Model","default":"glm-4.5"},"temperature":{"type":"number","maximum":2.0,"minimum":0.0,"title":"Temperature","default":0.7}},"type":"object","required":["name","system_prompt"],"title":"AgentCreate"},"AgentKnowledgeFileResponse":{"properties":{"zai_file_id":{"type":"string","title":"Zai File Id"},"filename":{"type":"string","title":"Filename"},"original_filename":{"type":"string","title":"Original Filename"},"file_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size"},"file_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Type"},"purpose":{"type":"string","title":"Purpose","default":"agent"},"status":{"type":"string","title":"Status","default":"active"},"file_metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"File Metadata"},"id":{"type":"integer","title":"Id"},"agent_id":{"type":"integer","title":"Agent Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"}},"type":"object","required":["zai_file_id","filename","original_filename","id","agent_id","created_at","updated_at","expires_at"],"title":"AgentKnowledgeFileResponse"},"AgentUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"system_prompt":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System Prompt"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"},"temperature":{"anyOf":[{"type":"number","maximum":2.0,"minimum":0.0},{"type":"null"}],"title":"Temperature"}},"type":"object","title":"AgentUpdate"},"AgentWithFiles":{"properties":{"name":{"type":"string","maxLength":100,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"system_prompt":{"type":"string","title":"System Prompt"},"model":{"type":"string","title":"Model","default":"glm-4.5"},"temperature":{"type":"number","maximum":2.0,"minimum":0.0,"title":"Temperature","default":0.7},"id":{"type":"integer","title":"Id"},"is_active":{"type":"boolean","title":"Is Active","default":true},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"knowledge_files":{"items":{"$ref":"#/components/schemas/AgentKnowledgeFileResponse"},"type":"array","title":"Knowledge Files","default":[]}},"type":"object","required":["name","system_prompt","id","created_at","updated_at"],"title":"AgentWithFiles"},"Body_upload_agent_file_api_v1_agents__agent_id__upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"purpose":{"type":"string","title":"Purpose","default":"agent"}},"type":"object","required":["file"],"title":"Body_upload_agent_file_api_v1_agents__agent_id__upload_post"},"Body_upload_knowledge_file_api_v1_chat__session_id__upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_knowledge_file_api_v1_chat__session_id__upload_post"},"BulkDeleteRequest":{"properties":{"session_ids":{"items":{"type":"integer"},"type":"array","title":"Session Ids"}},"type":"object","required":["session_ids"],"title":"BulkDeleteRequest"},"BulkDeleteResponse":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"BulkDeleteResponse"},"ChatMessage":{"properties":{"role":{"type":"string","title":"Role"},"content":{"type":"string","title":"Content"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model"},"reasoning_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reasoning Content"},"id":{"type":"integer","title":"Id"},"session_id":{"type":"integer","title":"Session Id"},"token_usage":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Token Usage"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["role","content","id","session_id","created_at"],"title":"ChatMessage"},"ChatRequest":{"properties":{"message":{"type":"string","title":"Message"},"session_id":{"type":"integer","title":"Session Id"},"agent_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Agent Id"}},"type":"object","required":["message","session_id"],"title":"ChatRequest"},"ChatResponse":{"properties":{"message":{"type":"string","title":"Message"},"reasoning_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reasoning Content"},"model":{"type":"string","title":"Model"},"token_usage":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Token Usage"}},"type":"object","required":["message","model"],"title":"ChatResponse"},"ChatSession":{"properties":{"title":{"type":"string","maxLength":200,"title":"Title"},"agent_id":{"type":"integer","title":"Agent Id"},"id":{"type":"integer","title":"Id"},"message_count":{"type":"integer","title":"Message Count","default":0},"is_archived":{"type":"boolean","title":"Is Archived","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"agent":{"$ref":"#/components/schemas/Agent"}},"type":"object","required":["title","agent_id","id","created_at","updated_at","agent"],"title":"ChatSession"},"ChatSessionCreate":{"properties":{"title":{"type":"string","maxLength":200,"title":"Title"},"agent_id":{"type":"integer","title":"Agent Id"}},"type":"object","required":["title","agent_id"],"title":"ChatSessionCreate"},"FileUploadResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"file_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Id"},"filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename"},"message":{"type":"string","title":"Message"},"size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Size"}},"type":"object","required":["success","message"],"title":"FileUploadResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MessageRequest":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"MessageRequest"},"SessionAnalyticsResponse":{"properties":{"total_sessions":{"type":"integer","title":"Total Sessions"},"total_messages":{"type":"integer","title":"Total Messages"},"avg_messages_per_session":{"type":"number","title":"Avg Messages Per Session"},"sessions_by_agent":{"items":{"type":"object"},"type":"array","title":"Sessions By Agent"},"recent_sessions_7_days":{"type":"integer","title":"Recent Sessions 7 Days"}},"type":"object","required":["total_sessions","total_messages","avg_messages_per_session","sessions_by_agent","recent_sessions_7_days"],"title":"SessionAnalyticsResponse"},"SessionKnowledge":{"properties":{"filename":{"type":"string","title":"Filename"},"content":{"type":"string","title":"Content"},"file_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"File Size"},"id":{"type":"integer","title":"Id"},"session_id":{"type":"integer","title":"Session Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["filename","content","id","session_id","created_at"],"title":"SessionKnowledge"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}